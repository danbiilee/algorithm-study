<html>
  <head>
    <meta charset="UTF-8" />
    <title>ì¶œë ¥ê²°ê³¼</title>
  </head>
  <body>
    <script>
      /*
        Q. ë¯¸ë¡œíƒìƒ‰(DFS)
        7*7 ê²©ìíŒ ë¯¸ë¡œë¥¼ íƒˆì¶œí•˜ëŠ” ê²½ë¡œì˜ ê°€ì§€ìˆ˜ë¥¼ ì¶œë ¥.
        ì¶œë°œì ì€ ê²©ìì˜ (1, 1) ì¢Œí‘œì´ê³ , íƒˆì¶œ ë„ì°©ì ì€ (7, 7)ì¢Œí‘œ.
        ê²©ìíŒì˜ 1ì€ ë²½ì´ê³ , 0ì€ í†µë¡œì´ë‹¤. ê²©ìíŒì˜ ì›€ì§ì„ì€ ìƒí•˜ì¢Œìš°ë¡œë§Œ ì›€ì§ì¸ë‹¤.
      */
      function mySolution(board) {
        let answer = 0;
        let n = board.length;
        let ch = Array.from({ length: n }, () => 0);

        function DFS(v) {
          if (v === n) {
            answer++;
          } else {
            for (let i = 0; i < n; i++) {
              if (board[v][i] === 0 && ch[i] === 0) {
                ch[i] = 1;
                DFS(i);
                ch[i] = 0;
              }
            }
          }
        }

        ch[1] = 1;
        DFS(1);
        return answer;
      }

      /* 
        ğŸ’¥ ìƒí•˜ì¢Œìš° -> dx, dy ì¢Œí‘œ í•„ìš”
        - D(0, 0) í˜¸ì¶œ: ìƒìš°í•˜ì¢Œ 4ê°œ ê°€ì§€ ì¹˜ê¸°(12ì‹œ -> 3ì‹œ -> 6ì‹œ -> 9ì‹œ)
          - ìƒ D(-1, 0): ê²©ìíŒ ë°–ì´ë¯€ë¡œ ì¢…ë£Œ
          - ìš° D(0, 1)
            - ìƒ D(-1, 1): ê²©ìíŒ ë°–ì´ë¯€ë¡œ ì¢…ë£Œ
            - ìš° D(0, 2)
              - ...
          - í•˜ D(1, 0)
          - ì¢Œ D(0, -1)
        - ê°”ë˜ ì¢Œí‘œëŠ” ì²´í¬, ë°±í•  ë•ŒëŠ” ì²´í¬ í•´ì œ!
      */
      function solution(board) {
        let answer = 0;
        let n = board[0].length - 1;
        let dx = [-1, 0, 1, 0];
        let dy = [0, 1, 0, -1];

        function DFS(x, y) {
          if (x === n && y === n) answer++;
          else {
            // 12ì‹œ, 3ì‹œ, 6ì‹œ, 9ì‹œë¡œ ê°€ì§€ì¹˜ê¸°
            for (let i = 0; i < 4; i++) {
              const nx = x + dx[i];
              const ny = y + dy[i];
              // ê²©ìíŒ ê²½ê³„ì„ , í†µë¡œ ì²´í¬
              if (
                nx >= 0 &&
                nx <= n &&
                ny >= 0 &&
                ny <= n &&
                board[nx][ny] === 0
              ) {
                board[nx][ny] = 1;
                DFS(nx, ny);
                board[nx][ny] = 0;
              }
            }
          }
        }

        board[0][0] = 1;
        DFS(0, 0);
        return answer;
      }

      let arr = [
        [0, 0, 0, 0, 0, 0, 0],
        [0, 1, 1, 1, 1, 1, 0],
        [0, 0, 0, 1, 0, 0, 0],
        [1, 1, 0, 1, 0, 1, 1],
        [1, 1, 0, 0, 0, 0, 1],
        [1, 1, 0, 1, 1, 0, 0],
        [1, 0, 0, 0, 0, 0, 0],
      ];

      console.log(solution(arr)); // 8
    </script>
  </body>
</html>
